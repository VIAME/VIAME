# =============================================================================
# Title: Train Detector - Convnext Remax
#
# Description: Configuration for training ConvNeXt.
# =============================================================================

include common_train_detector.conf

#  Override default validation percentage
default_percent_validation = 0.0

#  Override image extensions for this detector
image_extensions = .jpg;.jpeg;.JPG;.JPEG;.png;.PNG;

#  Algorithm to use for 'detector_trainer'.
detector_trainer:type = ocv_windowed

block detector_trainer:ocv_windowed

  # Directory for all files used in training
  train_directory = deep_training

  # Windowing mode, can be disabled, maintain_ar, scale, chip, adaptive
  mode = disabled

  # Don't train on chips with detections smaller than this
  min_train_box_length = 5

  # Uncomment to remove small detections instead of training on them
  #small_box_area = 290
  #small_action = remove

  # Image reader type
  image_reader:type = vxl

endblock

block detector_trainer:ocv_windowed:trainer

  # Trainer type
  type = remax_convnext

  # Number of GPUs to use, -1 indicates all
  remax_convnext:gpu_count = 1
  relativepath remax_convnext:work_dir = ./
  relativepath remax_convnext:output_directory = ./
  remax_convnext:debug_mode = 
  relativepath remax_convnext:feature_cache = models/convnext_test_features.pt
  relativepath remax_convnext:net_config  = models/convnext_extra_large_config.py
  relativepath remax_convnext:weight_file = models/convnext_xview_base.pth

endblock
