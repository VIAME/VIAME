# =============================================================================
# Title: Train Tracker - BOTSORT
#
# Description: Configuration for training BotSort tracker
# =============================================================================

# BoT-SORT Tracker Training Configuration
#
# This configuration file is used with viame_train_detector when training
# a BoT-SORT tracker using the --tracker/-tt option.
#
# BoT-SORT training involves:
# 1. Training a Re-ID model for appearance features
# 2. Estimating optimal tracking parameters from groundtruth
# 3. Configuring camera motion compensation settings
#
# Particularly useful for underwater footage from moving platforms/ROVs.
#
# Example usage:
#   viame_train_detector -i /path/to/training/data -tt botsort
#
# Or with a custom config:
#   viame_train_detector -i /path/to/training/data -c train_botsort_tracker.conf

# Track reader configuration
track_reader:type = viame_csv

# Tracker trainer configuration
tracker_trainer:type = botsort

# Model identifier for output files
tracker_trainer:botsort:identifier = custom_botsort_tracker

# Directory for intermediate training files
tracker_trainer:botsort:train_directory = deep_training

# Directory for final trained model output
tracker_trainer:botsort:output_directory = category_models

# Prefix for output model files
tracker_trainer:botsort:output_prefix = botsort_tracker

# Pipeline template for generating deployment pipeline
tracker_trainer:botsort:pipeline_template =

# Number of GPUs to use (-1 for auto-detect)
tracker_trainer:botsort:gpu_count = -1

# Maximum training epochs for Re-ID model
tracker_trainer:botsort:max_epochs = 50

# Batch size for training
tracker_trainer:botsort:batch_size = 32

# Learning rate
tracker_trainer:botsort:learning_rate = 0.0003

# Confidence threshold for groundtruth filtering
tracker_trainer:botsort:threshold = 0.00

# Training timeout in seconds (default: 1 week)
tracker_trainer:botsort:timeout = 604800

# Crop size for Re-ID training (HxW)
tracker_trainer:botsort:crop_size = 128x64

# Embedding dimension for Re-ID features
tracker_trainer:botsort:embedding_dim = 512

# Backbone architecture (resnet18 or resnet50)
tracker_trainer:botsort:backbone = resnet18

# Feature EMA momentum for smoothing
tracker_trainer:botsort:feat_ema_alpha = 0.9

# Enable camera motion compensation
tracker_trainer:botsort:use_cmc = true

# Enable Re-ID features for matching
tracker_trainer:botsort:use_reid = true
