# =============================================================================
# Title: Interactive Stereo Service Configuration
#
# Description: KWIVER flat config for the interactive stereo annotation service.
# Used by python -m viame.core.interactive_stereo for interactive disparity
# computation in DIVE stereo annotation mode.
#
# The algorithm implementation is configurable via the compute_stereo_depth_map
# type setting below. Currently uses foundation_stereo.
# =============================================================================

# Stereo depth/disparity algorithm
compute_stereo_depth_map:type = foundation_stereo

# Foundation Stereo model settings
compute_stereo_depth_map:foundation_stereo:vit_size = vits
compute_stereo_depth_map:foundation_stereo:checkpoint_path = models/foundation_stereo_s.pth
compute_stereo_depth_map:foundation_stereo:model_config_path = models/foundation_stereo_s.yaml
compute_stereo_depth_map:foundation_stereo:output_type = disparity
compute_stereo_depth_map:foundation_stereo:scale = 0.25
compute_stereo_depth_map:foundation_stereo:use_half_precision = true
compute_stereo_depth_map:foundation_stereo:num_iters = 32

# Service settings
service:scale = 1.0
